@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}


<h2>ARABA ARAMA</h2>
<p><b>Aranab Arabanın Id'si:</b></p>
<input type="text" id="txtId" />



<br />
<input class="btn btn-info" type="submit" id="btnGetir" value="Arabayı Bul" />


<p id="arananAraba"></p>

<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script type="text/javascript">

    $('#btnGetir').click(function () { //btnListele id'li butuna tıklandığı zaman çalışacak fonksiyon.

        // WEBAPI'mizden bütün ürünleri getirmeyi çağırıp, p taginin içerisine yazdıralım.
         let id = $('#txtId').val();


        $.ajax({
            url: 'https://localhost:7049/api/Car/IDyeGoreGetir?id='+id,
            type: 'GET',
            dataType: 'json',
            contentType: 'application/json;charset=utf-8',

            success: function (data) // Başarılı olduğu zaman çalışsan bölüm
            {
                
                    
                  document.getElementById("arananAraba").innerHTML = "Aranan Ürün" + "<br>";
                document.getElementById("arananAraba").innerHTML = data.Marka + data + " , " + data.Yil

            },
            error: function () // hatalı olduğu zaman çalışacak bölüm
            {
                alert("HATA OLUŞTU.");
            }
        });

    });

</script>